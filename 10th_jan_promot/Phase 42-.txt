PROMPT 2 ‚Äî OS-Aware Validation Executor (GA Gate)

PROMPT START

You are working on RansomEye v1.0 GA ‚Äì Audit Remediation Phase.
This is NOT v2, NOT new feature development, and NOT architectural expansion.

üîí GLOBAL CONSTRAINTS (MANDATORY)

v1.0 GA hardening only

No new features

No redesigns beyond fixing validation failures

No credential changes (gagan / gagan remains)

Fail-closed behavior is mandatory

Diagnostics and validation only

Scope creep is forbidden

TASK 2 ‚Äî OS-AWARE VALIDATION EXECUTOR (MANDATORY GA GATE)
Objective

Prevent invalid or misleading validation failures caused by running platform-specific validation tracks on the wrong operating system.

This is required for:

Audit correctness

Reproducibility

Legal defensibility of validation results

Current Failure

The validation harness allows:

Windows-specific tracks (e.g., ETW-based) to run on Linux

Linux-specific tracks (e.g., eBPF-based) to run on Windows

This causes:

Confusing failures

False negatives

Invalid audit evidence

REQUIRED IMPLEMENTATION

Modify the validation executor:

validation/executor.py

Behavior (STRICT)

At executor startup:

Detect host OS using platform.system()

Enforce hard OS gating:

If OS == Linux:

Block all Windows-only tracks (e.g., ETW)

If OS == Windows:

Block all Linux-only tracks (e.g., eBPF)

If a blocked track is requested:

Emit a clear, final error

Explain why the track is invalid on this OS

Exit fail-closed

Do not attempt partial execution

Do not silently skip tracks

HARD RULES

‚ùå No auto-selection of alternate tracks

‚ùå No warnings-only behavior

‚ùå No ‚Äúbest effort‚Äù execution

‚úÖ Explicit refusal

‚úÖ Deterministic messaging

‚úÖ Audit-safe failure

DELIVERABLES

Updated executor.py

OS detection logic

Explicit track-to-OS mapping

Example failure output (comment or test)

Confirmation of fail-closed behavior

ACCEPTANCE CRITERIA (GA BLOCKING)

Linux host + Windows track ‚Üí hard failure

Windows host + Linux track ‚Üí hard failure

Correct OS + correct track ‚Üí normal execution

No false audit results possible

Respond only with:

Implementation approach

File paths

Key code excerpts

Confirmation of rule compliance

PROMPT END
